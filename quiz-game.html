<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∞–¥–æ–≤—ã–π –∫–≤–∏–∑ - Garden Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="js/settings-manager.js"></script>
    <script src="theme-manager.js"></script>
    <script src="lang.js"></script>
    <style>
        :root {
            --primary: #4CAF50;
            --primary-dark: #2E7D32;
            --primary-light: #E8F5E9;
            --accent: #FF4081;
            --text: #333333;
            --text-light: #666666;
            --background: #F9F9F9;
            --card-bg: #FFFFFF;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --radius: 16px;
            --border: #E0E0E0;
        }

        [data-theme="dark"] {
            --primary: #66bb6a;
            --primary-dark: #388e3c;
            --primary-light: #1b5e20;
            --text: #ffffff;
            --text-light: #b0b0b0;
            --background: #121212;
            --card-bg: #1e1e1e;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --border: #333333;
        }

        [data-theme="green"] {
            --primary: #4CAF50;
            --primary-dark: #2E7D32;
            --primary-light: #E8F5E9;
            --text: #1B5E20;
            --text-light: #4CAF50;
            --background: #F1F8E9;
            --card-bg: #FFFFFF;
            --shadow: 0 4px 20px rgba(76, 175, 80, 0.15);
            --border: #C8E6C9;
        }

        [data-theme="blue"] {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --primary-light: #E3F2FD;
            --text: #0D47A1;
            --text-light: #2196F3;
            --background: #E3F2FD;
            --card-bg: #FFFFFF;
            --shadow: 0 4px 20px rgba(33, 150, 243, 0.15);
            --border: #BBDEFB;
        }

        [data-theme="green"].dark-mode {
            --primary: #66bb6a;
            --primary-dark: #388e3c;
            --primary-light: #1b5e20;
            --text: #e8f5e9;
            --text-light: #a5d6a7;
            --background: #1b311c;
            --card-bg: #2e4630;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --border: #1b5e20;
        }

        [data-theme="blue"].dark-mode {
            --primary: #64b5f6;
            --primary-dark: #1976d2;
            --primary-light: #0d47a1;
            --text: #e3f2fd;
            --text-light: #90caf9;
            --background: #0d1b33;
            --card-bg: #1e2b47;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --border: #1565c0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Quicksand', sans-serif;
        }

        body {
            background: var(--background);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
            color: var(--text);
            transition: all 0.3s ease;
        }

        .flower {
            position: fixed;
            z-index: 0;
            opacity: 0.7;
            pointer-events: none;
        }

        .flower-1 {
            top: 10%;
            left: 10%;
            font-size: 40px;
            color: var(--primary);
            transform: rotate(-15deg);
        }

        .flower-2 {
            bottom: 15%;
            right: 10%;
            font-size: 35px;
            color: var(--primary-dark);
            transform: rotate(25deg);
        }

        .flower-3 {
            top: 20%;
            right: 15%;
            font-size: 30px;
            color: var(--accent);
            transform: rotate(10deg);
        }

        .flower-4 {
            bottom: 20%;
            left: 15%;
            font-size: 45px;
            color: var(--primary-light);
            transform: rotate(-20deg);
        }

        .petal {
            position: absolute;
            width: 10px;
            height: 10px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            border-radius: 50% 50% 50% 0;
            opacity: 0.6;
            animation: fall 15s linear infinite;
            pointer-events: none;
        }

        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 0.7; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        header {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border: 1px solid var(--border);
            position: relative;
            z-index: 2;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            font-weight: 700;
            color: var(--primary-dark);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .logo-icon {
            font-size: 2em;
            color: var(--primary);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }

        .btn-secondary {
            background: var(--primary-light);
            color: var(--primary-dark);
            border: 1px solid var(--border);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            position: relative;
            z-index: 2;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .quiz-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--primary-light);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .stat-label {
            font-size: 0.9em;
            color: var(--text-light);
        }

        .question-container {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }

        .question-number {
            color: var(--text-light);
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text);
        }

        .question-image {
            font-size: 4em;
            text-align: center;
            margin: 20px 0;
            color: var(--primary);
        }

        .answers-grid {
            display: grid;
            gap: 15px;
        }

        .answer-btn {
            background: var(--primary-light);
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 15px 20px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            color: var(--text);
        }

        .answer-btn:hover {
            background: var(--primary-light);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .answer-btn.correct {
            background: #c8e6c9;
            border-color: #4caf50;
            color: #2e7d32;
        }

        .answer-btn.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
            color: #c62828;
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            transform: none;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .progress-bar {
            height: 10px;
            background: var(--border);
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .result-container {
            text-align: center;
            padding: 40px;
        }

        .result-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 2em;
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-family: 'Playfair Display', serif;
        }

        .result-score {
            font-size: 3em;
            font-weight: bold;
            color: var(--primary);
            margin: 20px 0;
        }

        .timer {
            font-size: 1.2em;
            font-weight: bold;
            color: #ff9800;
            margin: 10px 0;
        }

        .streak-counter {
            background: #ff9800;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin: 10px 0;
            font-weight: bold;
        }

        .category-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .category-btn {
            background: var(--primary-light);
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text);
        }

        .category-btn:hover {
            background: var(--primary-light);
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .category-icon {
            font-size: 3em;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .difficulty-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 10px 20px;
            border: 2px solid var(--border);
            border-radius: 20px;
            background: var(--card-bg);
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text);
            font-weight: 500;
        }

        .difficulty-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-color: var(--primary);
        }

        .difficulty-btn.impossible {
            background: linear-gradient(45deg, #ff0000, #8b0000);
            color: white;
            border-color: #8b0000;
            font-weight: bold;
        }

        .difficulty-btn.impossible.active {
            background: linear-gradient(45deg, #8b0000, #ff0000);
            border-color: #ff0000;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
        }

        .hint-btn {
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            margin: 10px 0;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .hint-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(33, 150, 243, 0.3);
        }

        .hint-text {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
            color: #0D47A1;
        }

        .achievement-badge {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            margin: 5px;
            display: inline-block;
            font-weight: bold;
        }

        .legendary-badge {
            background: linear-gradient(45deg, #8B0000, #FF0000, #FF8C00);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 5px;
            display: inline-block;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .chemical-formula {
            font-family: 'Courier New', monospace;
            background: var(--primary-light);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .scientific-term {
            font-style: italic;
            color: var(--primary-dark);
            font-weight: 600;
        }

        .petals-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .quiz-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .category-selector {
                grid-template-columns: 1fr;
            }
            
            .difficulty-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .quiz-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .logo-text {
                font-size: 1.8em;
            }
            
            .quiz-title {
                font-size: 2em;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 20px;
            }
            
            .question-container {
                padding: 20px;
            }
            
            .question-text {
                font-size: 1.1em;
            }
            
            .result-score {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="flower flower-1">‚úø</div>
    <div class="flower flower-2">‚úø</div>
    <div class="flower flower-3">‚úø</div>
    <div class="flower flower-4">‚úø</div>
    
    <div class="petals-container" id="petalsContainer"></div>

    <header>
        <div class="logo" onclick="window.location.href='main-site.html'">
            <div class="logo-icon">üåø</div>
            <div class="logo-text">Garden Game</div>
        </div>
        <div>
            <button class="btn btn-secondary" onclick="window.location.href='games.html'">
                <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ –∏–≥—Ä–∞–º
            </button>
        </div>
    </header>

    <div class="quiz-container">
        <div id="startScreen">
            <div class="quiz-header">
                <h1 class="quiz-title">–°–∞–¥–æ–≤—ã–π –∫–≤–∏–∑</h1>
                <p style="color: var(--text-light);">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö –∏ —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–µ!</p>
            </div>

            <div class="difficulty-selector">
                <button class="difficulty-btn active" onclick="setDifficulty('easy')">–õ–µ–≥–∫–∏–π</button>
                <button class="difficulty-btn" onclick="setDifficulty('medium')">–°—Ä–µ–¥–Ω–∏–π</button>
                <button class="difficulty-btn" onclick="setDifficulty('hard')">–°–ª–æ–∂–Ω—ã–π</button>
                <button class="difficulty-btn" onclick="setDifficulty('expert')">–≠–∫—Å–ø–µ—Ä—Ç</button>
                <button class="difficulty-btn impossible" onclick="setDifficulty('impossible')">–ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–π</button>
            </div>

            <div class="category-selector">
                <div class="category-btn" onclick="startQuiz('plants')">
                    <div class="category-icon">üå±</div>
                    <div>–†–∞—Å—Ç–µ–Ω–∏—è</div>
                    <small style="color: var(--text-light);">–û—Å–Ω–æ–≤—ã –±–æ—Ç–∞–Ω–∏–∫–∏</small>
                </div>
                <div class="category-btn" onclick="startQuiz('care')">
                    <div class="category-icon">üíß</div>
                    <div>–£—Ö–æ–¥</div>
                    <small style="color: var(--text-light);">–ü–æ–ª–∏–≤ –∏ —É–¥–æ–±—Ä–µ–Ω–∏—è</small>
                </div>
                <div class="category-btn" onclick="startQuiz('seasons')">
                    <div class="category-icon">üçÇ</div>
                    <div>–°–µ–∑–æ–Ω—ã</div>
                    <small style="color: var(--text-light);">–°–µ–∑–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</small>
                </div>
                <div class="category-btn" onclick="startQuiz('mixed')">
                    <div class="category-icon">üéØ</div>
                    <div>–ú–∏–∫—Å</div>
                    <small style="color: var(--text-light);">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</small>
                </div>
            </div>

            <div class="quiz-stats">
                <div class="stat-card">
                    <div class="stat-value" id="totalQuizzes">0</div>
                    <div class="stat-label">–ü—Ä–æ–π–¥–µ–Ω–æ –∫–≤–∏–∑–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="bestScore">0%</div>
                    <div class="stat-label">–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="currentStreak">0</div>
                    <div class="stat-label">–¢–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è</div>
                </div>
            </div>
        </div>

        <div id="quizScreen" style="display: none;">
            <div class="quiz-stats">
                <div class="stat-card">
                    <div class="stat-value" id="currentQuestion">1/10</div>
                    <div class="stat-label">–í–æ–ø—Ä–æ—Å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="score">0</div>
                    <div class="stat-label">–°—á–µ—Ç</div>
                </div>
                <div class="stat-card">
                    <div class="timer" id="timer">30</div>
                    <div class="stat-label">–í—Ä–µ–º—è</div>
                </div>
                <div class="stat-card">
                    <div class="streak-counter" id="streak">√ó1</div>
                    <div class="stat-label">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress" id="quizProgress" style="width: 10%"></div>
            </div>

            <div class="question-container">
                <div class="question-number">–í–æ–ø—Ä–æ—Å <span id="questionNum">1</span> –∏–∑ <span id="totalQuestions">10</span></div>
                <div class="question-image" id="questionImage">üåø</div>
                <div class="question-text" id="questionText"></div>
                
                <button class="hint-btn" id="hintBtn" onclick="showHint()" style="display: none;">
                    <i class="fas fa-lightbulb"></i> –ü–æ–¥—Å–∫–∞–∑–∫–∞ (-10 –æ—á–∫–æ–≤)
                </button>
                <div class="hint-text" id="hintText" style="display: none;"></div>
                
                <div class="answers-grid" id="answersContainer">
                    <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <div class="quiz-controls">
                <button class="btn btn-secondary" onclick="endQuiz()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
            </div>
        </div>

        <div id="resultScreen" style="display: none;">
            <div class="result-container">
                <div class="result-icon" id="resultIcon">üéâ</div>
                <h2 class="result-title" id="resultTitle">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
                <div class="result-score" id="finalScore">85%</div>
                <p id="resultMessage" style="color: var(--text-light); margin-bottom: 20px;">–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ä–∞—Å—Ç–µ–Ω–∏—è–º!</p>
                
                <div id="achievementsEarned" style="margin: 15px 0;"></div>
                
                <div class="quiz-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="resultCorrect">8</div>
                        <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="resultTime">02:30</div>
                        <div class="stat-label">–í—Ä–µ–º—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="resultStreak">√ó3</div>
                        <div class="stat-label">–ú–∞–∫—Å. –º–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="resultXP">+250</div>
                        <div class="stat-label">–û–ø—ã—Ç</div>
                    </div>
                </div>

                <div class="quiz-controls">
                    <button class="btn btn-secondary" onclick="showStartScreen()">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
                    <button class="btn btn-primary" onclick="restartQuiz()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
        const quizData = {
            plants: [
                {
                    question: "–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—Ç–µ–Ω–∏—è–º –ø–æ–ª—É—á–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é –æ—Ç —Å–æ–ª–Ω—Ü–∞?",
                    image: "üåû",
                    answers: [
                        "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑",
                        "–î—ã—Ö–∞–Ω–∏–µ",
                        "–¢—Ä–∞–Ω—Å–ø–∏—Ä–∞—Ü–∏—è",
                        "–û–ø—ã–ª–µ–Ω–∏–µ"
                    ],
                    correct: 0,
                    hint: "–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–∞—Ö"
                },
                {
                    question: "–ö–∞–∫–∞—è —á–∞—Å—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –≤–æ–¥—ã –∏ –º–∏–Ω–µ—Ä–∞–ª–æ–≤?",
                    image: "üå±",
                    answers: [
                        "–ö–æ—Ä–Ω–∏",
                        "–õ–∏—Å—Ç—å—è",
                        "–°—Ç–µ–±–µ–ª—å",
                        "–¶–≤–µ—Ç—ã"
                    ],
                    correct: 0,
                    hint: "–û–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ–¥ –∑–µ–º–ª–µ–π"
                },
                {
                    question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ö–ª–æ—Ä–æ—Ñ–∏–ª–ª?",
                    image: "üçÉ",
                    answers: [
                        "–ó–µ–ª–µ–Ω—ã–π –ø–∏–≥–º–µ–Ω—Ç —Ä–∞—Å—Ç–µ–Ω–∏–π",
                        "–í–∏–¥ —É–¥–æ–±—Ä–µ–Ω–∏—è",
                        "–¢–∏–ø –ø–æ—á–≤—ã",
                        "–í–æ–¥–∞ –¥–ª—è –ø–æ–ª–∏–≤–∞"
                    ],
                    correct: 0,
                    hint: "–û–Ω –ø—Ä–∏–¥–∞–µ—Ç —Ä–∞—Å—Ç–µ–Ω–∏—è–º –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç"
                },
                {
                    question: "–ö–∞–∫–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º –Ø–ø–æ–Ω–∏–∏?",
                    image: "üå∏",
                    answers: [
                        "–°–∞–∫—É—Ä–∞",
                        "–†–æ–∑–∞",
                        "–¢—é–ª—å–ø–∞–Ω",
                        "–û—Ä—Ö–∏–¥–µ—è"
                    ],
                    correct: 0,
                    hint: "–≠—Ç–æ –¥–µ—Ä–µ–≤–æ —Å —Ä–æ–∑–æ–≤—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏"
                },
                {
                    question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –º—É–∂—Å–∫–∞—è —á–∞—Å—Ç—å —Ü–≤–µ—Ç–∫–∞?",
                    image: "üå∫",
                    answers: [
                        "–¢—ã—á–∏–Ω–∫–∞",
                        "–ü–µ—Å—Ç–∏–∫",
                        "–õ–µ–ø–µ—Å—Ç–æ–∫",
                        "–ß–∞—à–µ–ª–∏—Å—Ç–∏–∫"
                    ],
                    correct: 0,
                    hint: "–°–æ–¥–µ—Ä–∂–∏—Ç –ø—ã–ª—å—Ü—É"
                }
            ],
            care: [
                {
                    question: "–ö–∞–∫ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–ª–∏–≤–∞—Ç—å –∫–∞–∫—Ç—É—Å—ã?",
                    image: "üåµ",
                    answers: [
                        "–†–µ–¥–∫–æ, –∫–æ–≥–¥–∞ –ø–æ—á–≤–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—É—Ö–∞—è",
                        "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å",
                        "–î–≤–∞ —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å",
                        "–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—á–≤—ã"
                    ],
                    correct: 0,
                    hint: "–ö–∞–∫—Ç—É—Å—ã –∑–∞–ø–∞—Å–∞—é—Ç –≤–æ–¥—É –≤ —Å–≤–æ–∏—Ö —Ç–∫–∞–Ω—è—Ö"
                },
                {
                    question: "–ö–∞–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ –ª—É—á—à–µ –¥–ª—è —Ü–≤–µ—Ç—É—â–∏—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π?",
                    image: "üå∑",
                    answers: [
                        "–° –≤—ã—Å–æ–∫–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Ñ–æ—Å—Ñ–æ—Ä–∞",
                        "–° –≤—ã—Å–æ–∫–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∞–∑–æ—Ç–∞",
                        "–° –≤—ã—Å–æ–∫–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∫–∞–ª–∏—è",
                        "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ"
                    ],
                    correct: 0,
                    hint: "–§–æ—Å—Ñ–æ—Ä —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ü–≤–µ—Ç–µ–Ω–∏—é"
                },
                {
                    question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –¥—Ä–µ–Ω–∞–∂ –≤ –≥–æ—Ä—à–∫–µ?",
                    image: "üè∫",
                    answers: [
                        "–°–ª–æ–π –¥–ª—è –æ—Ç–≤–æ–¥–∞ –ª–∏—à–Ω–µ–π –≤–æ–¥—ã",
                        "–í–∏–¥ –ø–æ—á–≤—ã",
                        "–£–¥–æ–±—Ä–µ–Ω–∏–µ",
                        "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª–∏–≤–∞"
                    ],
                    correct: 0,
                    hint: "–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥–Ω–∏–≤–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–π"
                },
                {
                    question: "–ö–æ–≥–¥–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ—Å–∞–∂–∏–≤–∞—Ç—å –∫–æ–º–Ω–∞—Ç–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è?",
                    image: "ü™¥",
                    answers: [
                        "–í–µ—Å–Ω–æ–π",
                        "–ó–∏–º–æ–π",
                        "–õ–µ—Ç–æ–º",
                        "–û—Å–µ–Ω—å—é"
                    ],
                    correct: 0,
                    hint: "–í –ø–µ—Ä–∏–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞"
                },
                {
                    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ–∂–µ–ª—Ç–µ–Ω–∏–µ –ª–∏—Å—Ç—å–µ–≤ —É —Ä–∞—Å—Ç–µ–Ω–∏–π?",
                    image: "üçÇ",
                    answers: [
                        "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤ –∏–ª–∏ –∏–∑–±—ã—Ç–æ–∫ –≤–æ–¥—ã",
                        "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–ª–Ω—Ü–∞",
                        "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å",
                        "–ò–∑–±—ã—Ç–æ–∫ —É–¥–æ–±—Ä–µ–Ω–∏–π"
                    ],
                    correct: 0,
                    hint: "–ß–∞—Å—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –ø–æ–ª–∏–≤–æ–º"
                }
            ],
            seasons: [
                {
                    question: "–í –∫–∞–∫–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ —Å–∞–∂–∞—Ç—å —Ç—é–ª—å–ø–∞–Ω—ã?",
                    image: "üå∑",
                    answers: [
                        "–û—Å–µ–Ω—å—é",
                        "–í–µ—Å–Ω–æ–π",
                        "–õ–µ—Ç–æ–º",
                        "–ó–∏–º–æ–π"
                    ],
                    correct: 0,
                    hint: "–û–Ω–∏ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–∑–∏–º–æ–≤–∞—Ç—å –≤ –∑–µ–º–ª–µ"
                },
                {
                    question: "–ö–æ–≥–¥–∞ –æ–±—Ä–µ–∑–∞—é—Ç —Ä–æ–∑—ã?",
                    image: "üåπ",
                    answers: [
                        "–†–∞–Ω–Ω–µ–π –≤–µ—Å–Ω–æ–π",
                        "–õ–µ—Ç–æ–º",
                        "–û—Å–µ–Ω—å—é",
                        "–ó–∏–º–æ–π"
                    ],
                    correct: 0,
                    hint: "–î–æ –Ω–∞—á–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞"
                },
                {
                    question: "–ö–∞–∫–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è —Å–∞–∂–∞—é—Ç –ø–æ–¥ –∑–∏–º—É?",
                    image: "‚ùÑÔ∏è",
                    answers: [
                        "–ß–µ—Å–Ω–æ–∫ –∏ –ª—É–∫",
                        "–ü–æ–º–∏–¥–æ—Ä—ã",
                        "–û–≥—É—Ä—Ü—ã",
                        "–ü–µ—Ä—Ü—ã"
                    ],
                    correct: 0,
                    hint: "–û–∑–∏–º—ã–µ –∫—É–ª—å—Ç—É—Ä—ã"
                },
                {
                    question: "–ö–æ–≥–¥–∞ —Å–æ–±–∏—Ä–∞—é—Ç —É—Ä–æ–∂–∞–π —è–±–ª–æ–∫?",
                    image: "üçé",
                    answers: [
                        "–í –∫–æ–Ω—Ü–µ –ª–µ—Ç–∞ - –Ω–∞—á–∞–ª–µ –æ—Å–µ–Ω–∏",
                        "–í–µ—Å–Ω–æ–π",
                        "–ó–∏–º–æ–π",
                        "–í –Ω–∞—á–∞–ª–µ –ª–µ—Ç–∞"
                    ],
                    correct: 0,
                    hint: "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Ä—Ç–∞"
                },
                {
                    question: "–ö–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–¥ –∫ –∑–∏–º–µ?",
                    image: "üå≤",
                    answers: [
                        "–£–∫—Ä—ã—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏—è –∏ —É–±—Ä–∞—Ç—å –ª–∏—Å—Ç–≤—É",
                        "–£–¥–æ–±—Ä–∏—Ç—å –∞–∑–æ—Ç–æ–º",
                        "–û–±–∏–ª—å–Ω–æ –ø–æ–ª–∏—Ç—å",
                        "–û–±—Ä–µ–∑–∞—Ç—å –≤—Å–µ –≤–µ—Ç–∫–∏"
                    ],
                    correct: 0,
                    hint: "–ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—Ä–æ–∑–æ–≤"
                }
            ]
        };

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–µ–∂–∏–º–∞ —ç–∫—Å–ø–µ—Ä—Ç–∞
        const expertQuestions = [
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∏–∫–æ—Ä–∏–∑–∞?",
                image: "üçÑ",
                answers: [
                    "–°–∏–º–±–∏–æ–∑ –≥—Ä–∏–±–æ–≤ –∏ –∫–æ—Ä–Ω–µ–π —Ä–∞—Å—Ç–µ–Ω–∏–π",
                    "–ë–æ–ª–µ–∑–Ω—å —Ä–∞—Å—Ç–µ–Ω–∏–π",
                    "–í–∏–¥ —É–¥–æ–±—Ä–µ–Ω–∏—è",
                    "–¢–∏–ø –ø–æ—á–≤—ã"
                ],
                correct: 0,
                hint: "–≠—Ç–æ –≤–∑–∞–∏–º–æ–≤—ã–≥–æ–¥–Ω–æ–µ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ"
            },
            {
                question: "–ö–∞–∫–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–∏—â–Ω–∏–∫–æ–º?",
                image: "ü™¥",
                answers: [
                    "–í–µ–Ω–µ—Ä–∏–Ω–∞ –º—É—Ö–æ–ª–æ–≤–∫–∞",
                    "–ö–∞–∫—Ç—É—Å",
                    "–û—Ä—Ö–∏–¥–µ—è",
                    "–ü–∞–ø–æ—Ä–æ—Ç–Ω–∏–∫"
                ],
                correct: 0,
                hint: "–õ–æ–≤–∏—Ç –Ω–∞—Å–µ–∫–æ–º—ã—Ö"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏—Ç–æ–≥–æ—Ä–º–æ–Ω—ã?",
                image: "üî¨",
                answers: [
                    "–†–µ–≥—É–ª—è—Ç–æ—Ä—ã —Ä–æ—Å—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π",
                    "–í–∏–¥—ã —É–¥–æ–±—Ä–µ–Ω–∏–π",
                    "–ë–æ–ª–µ–∑–Ω–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π",
                    "–ü–µ—Å—Ç–∏—Ü–∏–¥—ã"
                ],
                correct: 0,
                hint: "–ê—É–∫—Å–∏–Ω—ã, –≥–∏–±–±–µ—Ä–µ–ª–ª–∏–Ω—ã –∏ –¥—Ä."
            },
            {
                question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞—É–∫–∞ –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö?",
                image: "üìö",
                answers: [
                    "–ë–æ—Ç–∞–Ω–∏–∫–∞",
                    "–ë–∏–æ–ª–æ–≥–∏—è",
                    "–ê–≥—Ä–æ–Ω–æ–º–∏—è",
                    "–≠–∫–æ–ª–æ–≥–∏—è"
                ],
                correct: 0,
                hint: "–†–∞–∑–¥–µ–ª –±–∏–æ–ª–æ–≥–∏–∏"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –≥–∏–¥—Ä–æ–ø–æ–Ω–∏–∫–∞?",
                image: "üíß",
                answers: [
                    "–í—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π –±–µ–∑ –ø–æ—á–≤—ã",
                    "–í–∏–¥ –ø–æ–ª–∏–≤–∞",
                    "–°–∏—Å—Ç–µ–º–∞ —É–¥–æ–±—Ä–µ–Ω–∏–π",
                    "–ú–µ—Ç–æ–¥ –æ–±—Ä–µ–∑–∫–∏"
                ],
                correct: 0,
                hint: "–ù–∞ –≤–æ–¥–Ω—ã—Ö —Ä–∞—Å—Ç–≤–æ—Ä–∞—Ö"
            }
        ];

        // –í–û–ü–†–û–°–´ –£–†–û–í–ù–Ø –ú–ì–£ –î–õ–Ø –ù–ï–í–û–ó–ú–û–ñ–ù–û–ô –°–õ–û–ñ–ù–û–°–¢–ò
        const msuLevelQuestions = [
            {
                question: "–ö–∞–∫–æ–π —Ñ–µ—Ä–º–µ–Ω—Ç –∫–∞—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—É—é —Ä–µ–∞–∫—Ü–∏—é —Ü–∏–∫–ª–∞ –ö–∞–ª—å–≤–∏–Ω–∞?",
                image: "üî¨",
                answers: [
                    "–†–∏–±—É–ª–æ–∑–æ-1,5-–±–∏—Å—Ñ–æ—Å—Ñ–∞—Ç–∫–∞—Ä–±–æ–∫—Å–∏–ª–∞–∑–∞/–æ–∫—Å–∏–≥–µ–Ω–∞–∑–∞ (Rubisco)",
                    "–§–æ—Å—Ñ–æ–µ–Ω–æ–ª–ø–∏—Ä—É–≤–∞—Ç–∫–∞—Ä–±–æ–∫—Å–∏–∫–∏–Ω–∞–∑–∞",
                    "–ü–∏—Ä—É–≤–∞—Ç–∫–∏–Ω–∞–∑–∞",
                    "–ì–µ–∫—Å–æ–∫–∏–Ω–∞–∑–∞"
                ],
                correct: 0,
                hint: "–≠—Ç–æ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ñ–µ—Ä–º–µ–Ω—Ç –Ω–∞ –ó–µ–º–ª–µ"
            },
            {
                question: "–ö–∞–∫–æ–µ —è–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ú–∏—Ö–∞—ç–ª–∏—Å–∞-–ú–µ–Ω—Ç–µ–Ω –≤ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–µ?",
                image: "üìà",
                answers: [
                    "–ö–∏–Ω–µ—Ç–∏–∫—É —Ñ–µ—Ä–º–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π",
                    "–î–∏—Ñ—Ñ—É–∑–∏—é CO‚ÇÇ –≤ —É—Å—Ç—å–∏—Ü–∞",
                    "–¢—Ä–∞–Ω—Å–ø–∏—Ä–∞—Ü–∏—é –≤–æ–¥—ã",
                    "–ü–æ–≥–ª–æ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–Ω–æ–≤"
                ],
                correct: 0,
                hint: "–°–≤—è–∑—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–µ–π —Å—É–±—Å—Ç—Ä–∞—Ç–∞"
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞ (C3, C4, CAM) –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö?",
                image: "üå°Ô∏è",
                answers: [
                    "C4",
                    "C3", 
                    "CAM",
                    "–í—Å–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã"
                ],
                correct: 0,
                hint: "–•–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏—Ö –∑–ª–∞–∫–æ–≤"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–ª–µ–ª–æ–ø–∞—Ç–∏—è –≤ —Ñ–∏—Ç–æ—Ü–µ–Ω–æ–∑–∞—Ö?",
                image: "üåø",
                answers: [
                    "–í–ª–∏—è–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ö–∏–º–∏—á–µ—Å–∫–∏—Ö –≤–µ—â–µ—Å—Ç–≤",
                    "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ —Å–≤–µ—Ç",
                    "–°–∏–º–±–∏–æ–∑ —Å –≥—Ä–∏–±–∞–º–∏",
                    "–ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–µ –æ–ø—ã–ª–µ–Ω–∏–µ"
                ],
                correct: 0,
                hint: "–ü—Ä–∏–º–µ—Ä: –≥—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö –ø–æ–¥–∞–≤–ª—è–µ—Ç —Ä–æ—Å—Ç –¥—Ä—É–≥–∏—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π"
            },
            {
                question: "–ö–∞–∫–æ–π –≥–æ—Ä–º–æ–Ω –∏–Ω–≥–∏–±–∏—Ä—É–µ—Ç –ø—Ä–æ—Ä–∞—Å—Ç–∞–Ω–∏–µ –ø–æ—á–µ–∫?",
                image: "üí§",
                answers: [
                    "–ê–±—Å—Ü–∏–∑–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞ (ABA)",
                    "–ê—É–∫—Å–∏–Ω",
                    "–ì–∏–±–±–µ—Ä–µ–ª–ª–∏–Ω",
                    "–¶–∏—Ç–æ–∫–∏–Ω–∏–Ω"
                ],
                correct: 0,
                hint: "–¢–∞–∫–∂–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ –Ω–∞ —Å—Ç—Ä–µ—Å—Å"
            },
            {
                question: "–ß—Ç–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–∫–æ–Ω –º–∏–Ω–∏–º—É–º–∞ –õ–∏–±–∏—Ö–∞?",
                image: "‚öñÔ∏è",
                answers: [
                    "–†–æ—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Å–∞–º—ã–º –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º",
                    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                    "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∏–æ–º–∞—Å—Å—ã",
                    "–°–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–∏—Ä–∞—Ü–∏–∏"
                ],
                correct: 0,
                hint: '–ò–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ "–±–æ—á–æ–Ω–æ–∫ –õ–∏–±–∏—Ö–∞"'
            },
            {
                question: "–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –≤–æ–¥—ã –ø–æ –∫—Å–∏–ª–µ–º–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–µ–æ—Ä–∏–∏ —Å—Ü–µ–ø–ª–µ–Ω–∏—è-–Ω–∞—Ç—è–∂–µ–Ω–∏—è?",
                image: "üíß",
                answers: [
                    "–¢—Ä–∞–Ω—Å–ø–∏—Ä–∞—Ü–∏—è",
                    "–û—Å–º–æ—Å",
                    "–ö–∞–ø–∏–ª–ª—è—Ä–Ω–æ—Å—Ç—å", 
                    "–ê–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç"
                ],
                correct: 0,
                hint: "–°–≤—è–∑–∞–Ω —Å –∏—Å–ø–∞—Ä–µ–Ω–∏–µ–º –≤–æ–¥—ã —á–µ—Ä–µ–∑ —É—Å—Ç—å–∏—Ü–∞"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ö—Ä–æ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—è –≤ —Ñ–∏—Ç–æ—Ö–∏–º–∏–∏?",
                image: "üé®",
                answers: [
                    "–ú–µ—Ç–æ–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø–∏–≥–º–µ–Ω—Ç–æ–≤",
                    "–°–∏–Ω—Ç–µ–∑ —Ö–ª–æ—Ä–æ—Ñ–∏–ª–ª–∞",
                    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ–∫—Ä–∞—Å–∫–∏ –ª–∏—Å—Ç—å–µ–≤",
                    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è –µ–¥–∏–Ω–∏—Ü–∞"
                ],
                correct: 0,
                hint: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏–≥–º–µ–Ω—Ç–æ–≤"
            },
            {
                question: "–ö–∞–∫–æ–π –∏–æ–Ω —è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ñ–∞–∫—Ç–æ—Ä–æ–º –≤ –º–æ–ª–µ–∫—É–ª–µ —Ö–ª–æ—Ä–æ—Ñ–∏–ª–ª–∞?",
                image: "‚öõÔ∏è",
                answers: [
                    "Mg¬≤‚Å∫",
                    "Fe¬≤‚Å∫",
                    "Ca¬≤‚Å∫",
                    "K‚Å∫"
                ],
                correct: 0,
                hint: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞—Ç–æ–º –≤ –ø–æ—Ä—Ñ–∏—Ä–∏–Ω–æ–≤–æ–º –∫–æ–ª—å—Ü–µ"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–æ—Ç–æ—Ä–µ—Å–ø–∏—Ä–∞—Ü–∏—è?",
                image: "üîÑ",
                answers: [
                    "–û–∫–∏—Å–ª–µ–Ω–∏–µ —Ä–∏–±—É–ª–æ–∑–æ-1,5-–±–∏—Å—Ñ–æ—Å—Ñ–∞—Ç–∞ –∫–∏—Å–ª–æ—Ä–æ–¥–æ–º",
                    "–î—ã—Ö–∞–Ω–∏–µ –Ω–∞ —Å–≤–µ—Ç—É",
                    "–í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–∏—Å–ª–æ—Ä–æ–¥–∞",
                    "–ü–æ–≥–ª–æ—â–µ–Ω–∏–µ CO‚ÇÇ –Ω–æ—á—å—é"
                ],
                correct: 0,
                hint: "–ö–æ–Ω–∫—É—Ä–∏—Ä—É–µ—Ç —Å –∫–∞—Ä–±–æ–∫—Å–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∑–∞ —Å—É–±—Å—Ç—Ä–∞—Ç"
            },
            {
                question: "–ö–∞–∫–æ–π –±–µ–ª–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ —É—Å—Ç—å–∏—á–Ω—ã—Ö —â–µ–ª–µ–π?",
                image: "üö™",
                answers: [
                    "–ê–¢–§-–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ—Ç–æ–Ω–Ω–∞—è –ø–æ–º–ø–∞",
                    "–ê–∫–≤–∞–ø–æ—Ä–∏–Ω",
                    "–†—É–±–∏—Å–∫–æ",
                    "–§–æ—Ç–æ—Å–∏—Å—Ç–µ–º–∞ II"
                ],
                correct: 0,
                hint: "–°–æ–∑–¥–∞–µ—Ç —ç–ª–µ–∫—Ç—Ä–æ—Ö–∏–º–∏—á–µ—Å–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è influx –∏–æ–Ω–æ–≤ –∫–∞–ª–∏—è"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ø–æ–ø–ª–∞—Å—Ç –∏ —Å–∏–º–ø–ª–∞—Å—Ç –≤ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–∫–∞–Ω—è—Ö?",
                image: "üîÑ",
                answers: [
                    "–ü—É—Ç–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤–µ—â–µ—Å—Ç–≤ —á–µ—Ä–µ–∑ –∫–ª–µ—Ç–æ—á–Ω—ã–µ —Å—Ç–µ–Ω–∫–∏ –∏ —Ü–∏—Ç–æ–ø–ª–∞–∑–º—É",
                    "–¢–∏–ø—ã —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞",
                    "–í–∏–¥—ã –º–µ—Ä–∏—Å—Ç–µ–º",
                    "–§–æ—Ä–º—ã —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–æ–≤"
                ],
                correct: 0,
                hint: "–ê–ø–æ–ø–ª–∞—Å—Ç - –≤–Ω–µ–∫–ª–µ—Ç–æ—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Å–∏–º–ø–ª–∞—Å—Ç - —Ü–∏—Ç–æ–ø–ª–∞–∑–º–∞—Ç–∏—á–µ—Å–∫–æ–µ"
            },
            {
                question: "–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –§ick'a –¥–ª—è –¥–∏—Ñ—Ñ—É–∑–∏–∏ –≥–∞–∑–æ–≤?",
                image: "üìä",
                answers: [
                    "–î–∏—Ñ—Ñ—É–∑–∏—é CO‚ÇÇ —á–µ—Ä–µ–∑ —É—Å—Ç—å–∏—Ü–∞",
                    "–¢—Ä–∞–Ω—Å–ø–∏—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫",
                    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                    "–†–æ—Å—Ç –∫–æ—Ä–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã"
                ],
                correct: 0,
                hint: "J = -D * (dc/dx), –≥–¥–µ J - –ø–æ—Ç–æ–∫, D - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–∏—Ñ—Ñ—É–∑–∏–∏"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ö–µ–º–∏–æ—Å–º–æ—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–æ—Ä–∏—è –ú–∏—Ç—á–µ–ª–ª–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞?",
                image: "‚ö°",
                answers: [
                    "–°–∏–Ω—Ç–µ–∑ –ê–¢–§ –∑–∞ —Å—á–µ—Ç –ø—Ä–æ—Ç–æ–Ω–Ω–æ–≥–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞",
                    "–ü–æ–≥–ª–æ—â–µ–Ω–∏–µ —Å–≤–µ—Ç–∞ –ø–∏–≥–º–µ–Ω—Ç–∞–º–∏",
                    "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —ç–ª–µ–∫—Ç—Ä–æ–Ω–æ–≤",
                    "–§–∏–∫—Å–∞—Ü–∏—è —É–≥–ª–µ—Ä–æ–¥–∞"
                ],
                correct: 0,
                hint: "–û–±—ä—è—Å–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—É –ê–¢–§-—Å–∏–Ω—Ç–∞–∑—ã –≤ —Ç–∏–ª–∞–∫–æ–∏–¥–Ω—ã—Ö –º–µ–º–±—Ä–∞–Ω–∞—Ö"
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ç–∫–∞–Ω–µ–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ä–æ—Å—Ç —Ä–∞—Å—Ç–µ–Ω–∏–π?",
                image: "üìè",
                answers: [
                    "–ö–∞–º–±–∏–π",
                    "–≠–ø–∏–¥–µ—Ä–º–∏—Å",
                    "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ —Ç–∫–∞–Ω–∏",
                    "–ü—Ä–æ–≤–æ–¥—è—â–∏–µ –ø—É—á–∫–∏"
                ],
                correct: 0,
                hint: "–õ–∞—Ç–µ—Ä–∞–ª—å–Ω–∞—è –º–µ—Ä–∏—Å—Ç–µ–º–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è —É—Ç–æ–ª—â–µ–Ω–∏–µ —Å—Ç–µ–±–ª—è"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–ª–∞–Ω—Ç–æ–∏–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞ –≤ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–µ —Ä–∞—Å—Ç–µ–Ω–∏–π?",
                image: "üß™",
                answers: [
                    "–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Ä–∞—Å–ø–∞–¥–∞ –ø—É—Ä–∏–Ω–æ–≤",
                    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –ø–∏–≥–º–µ–Ω—Ç",
                    "–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–π –≥–æ—Ä–º–æ–Ω",
                    "–ó–∞–ø–∞—Å–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ"
                ],
                correct: 0,
                hint: "–£—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∞–∑–æ—Ç–Ω–æ–º –æ–±–º–µ–Ω–µ"
            },
            {
                question: "–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç —è–≤–ª–µ–Ω–∏–µ –í–µ—Ä—Ç–∏—Ü–∏–ª–ª–µ–∑–Ω–æ–≥–æ —É–≤—è–¥–∞–Ω–∏—è?",
                image: "ü•Ä",
                answers: [
                    "–ì—Ä–∏–±–∫–æ–≤–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –∫—Å–∏–ª–µ–º—É",
                    "–î–µ—Ñ–∏—Ü–∏—Ç –≤–æ–¥—ã",
                    "–°–æ–ª–Ω–µ—á–Ω—ã–π –æ–∂–æ–≥",
                    "–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ–¥–∞–Ω–∏–µ"
                ],
                correct: 0,
                hint: "–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—á–≤–µ–Ω–Ω—ã–º–∏ –≥—Ä–∏–±–∞–º–∏ —Ä–æ–¥–∞ Verticillium"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–æ—Ç–æ—Ç—Ä–æ–ø–∏–Ω –∏ –∫—Ä–∏–ø—Ç–æ—Ö—Ä–æ–º?",
                image: "üîç",
                answers: [
                    "–§–æ—Ç–æ—Ä–µ—Ü–µ–ø—Ç–æ—Ä—ã —Å–∏–Ω–µ–≥–æ —Å–≤–µ—Ç–∞",
                    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø–∏–≥–º–µ–Ω—Ç—ã",
                    "–§–µ—Ä–º–µ–Ω—Ç—ã —Ü–∏–∫–ª–∞ –ö–∞–ª—å–≤–∏–Ω–∞",
                    "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –±–µ–ª–∫–∏"
                ],
                correct: 0,
                hint: "–†–µ–≥—É–ª–∏—Ä—É—é—Ç —Ñ–æ—Ç–æ–º–æ—Ä—Ñ–æ–≥–µ–Ω–µ–∑ –∏ —Ñ–æ—Ç–æ–ø–µ—Ä–∏–æ–¥–∏–∑–º"
            },
            {
                question: "–ö–∞–∫–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –∏–æ–Ω–æ–≤ –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –≤–æ–ª–æ—Å–∫–∞–º–∏?",
                image: "üå±",
                answers: [
                    "–ê–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –∏–æ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã",
                    "–û—Å–º–æ—Å",
                    "–î–∏—Ñ—Ñ—É–∑–∏—è",
                    "–ü–∏–Ω–æ—Ü–∏—Ç–æ–∑"
                ],
                correct: 0,
                hint: "–¢—Ä–µ–±—É–µ—Ç –∑–∞—Ç—Ä–∞—Ç –ê–¢–§ –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–µ—Ä–µ–Ω–æ—Å—á–∏–∫–æ–≤"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ C:N ratio –∏ –∫–∞–∫ –æ–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∫–∏?",
                image: "üìä",
                answers: [
                    "–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —É–≥–ª–µ—Ä–æ–¥–∞ –∫ –∞–∑–æ—Ç—É, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è",
                    "–ë–∞–ª–∞–Ω—Å —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞ –∏ –¥—ã—Ö–∞–Ω–∏—è",
                    "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ–¥—ã",
                    "–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ö–ª–æ—Ä–æ—Ñ–∏–ª–ª–∞"
                ],
                correct: 0,
                hint: "–í—ã—Å–æ–∫–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ"
            }
        ];

        let currentQuiz = {
            category: '',
            difficulty: 'easy',
            questions: [],
            currentQuestionIndex: 0,
            score: 0,
            correctAnswers: 0,
            timeLeft: 30,
            timer: null,
            streak: 0,
            maxStreak: 0,
            startTime: null,
            hintsUsed: 0,
            achievements: []
        };

        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            if (!currentUser) {
                window.location.href = 'registration.html';
                return;
            }

            applyThemeSettings();
            loadUserStats();
            createPetals();
        });

        function createPetals() {
            const container = document.getElementById('petalsContainer');
            const petalCount = 15;
            
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                const size = Math.random() * 15 + 5;
                const left = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 10 + 15;
                
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${left}vw`;
                petal.style.animationDelay = `${delay}s`;
                petal.style.animationDuration = `${duration}s`;
                
                const colors = [
                    'var(--primary)',
                    'var(--primary-dark)',
                    'var(--accent)',
                    'var(--primary-light)'
                ];
                petal.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                container.appendChild(petal);
            }
        }

        function setDifficulty(difficulty) {
            currentQuiz.difficulty = difficulty;
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function startQuiz(category) {
            currentQuiz.category = category;
            currentQuiz.questions = generateQuizQuestions(category, currentQuiz.difficulty);
            currentQuiz.currentQuestionIndex = 0;
            currentQuiz.score = 0;
            currentQuiz.correctAnswers = 0;
            currentQuiz.streak = 0;
            currentQuiz.maxStreak = 0;
            currentQuiz.startTime = Date.now();
            currentQuiz.hintsUsed = 0;
            currentQuiz.achievements = [];

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            
            // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            if (currentQuiz.difficulty === 'impossible') {
                setTimeout(() => {
                    alert('üö® –í–ù–ò–ú–ê–ù–ò–ï: –£—Ä–æ–≤–µ–Ω—å "–ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–π" —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–æ–ø—Ä–æ—Å—ã —É—Ä–æ–≤–Ω—è –ú–ì–£!\n–¢–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –±–æ—Ç–∞–Ω–∏–∫–∏!');
                }, 100);
            }
            
            loadQuestion();
            startTimer();
        }

        function generateQuizQuestions(category, difficulty) {
            let questions = [];
            let baseQuestions = [];
            
            // –ë–∞–∑–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            if (category === 'mixed') {
                // –î–ª—è –º–∏–∫—Å–∞ –±–µ—Ä–µ–º –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
                baseQuestions = [
                    ...quizData.plants,
                    ...quizData.care, 
                    ...quizData.seasons
                ];
            } else {
                baseQuestions = quizData[category] || [];
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            if (difficulty === 'expert') {
                baseQuestions = baseQuestions.concat(expertQuestions);
            } else if (difficulty === 'impossible') {
                baseQuestions = msuLevelQuestions; // –¢–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã —É—Ä–æ–≤–Ω—è –ú–ì–£
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            const questionCount = {
                'easy': 5,
                'medium': 8,
                'hard': 12,
                'expert': 15,
                'impossible': 20
            }[difficulty] || 10;
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã –∏ –≤—ã–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
            const shuffled = [...baseQuestions].sort(() => Math.random() - 0.5);
            questions = shuffled.slice(0, Math.min(questionCount, shuffled.length));
            
            return questions;
        }

        function loadQuestion() {
            const question = currentQuiz.questions[currentQuiz.currentQuestionIndex];
            if (!question) return;

            document.getElementById('questionNum').textContent = currentQuiz.currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = currentQuiz.questions.length;
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è –Ω–∞—É—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
            let questionText = question.question;
            questionText = questionText.replace(/(C3|C4|CAM|CO‚ÇÇ|ATP|ABA|Rubisco)/g, '<span class="scientific-term">$1</span>');
            questionText = questionText.replace(/(Mg¬≤‚Å∫|Fe¬≤‚Å∫|Ca¬≤‚Å∫|K‚Å∫)/g, '<span class="chemical-formula">$1</span>');
            
            document.getElementById('questionText').innerHTML = questionText;
            document.getElementById('questionImage').textContent = question.image;
            document.getElementById('currentQuestion').textContent = 
                `${currentQuiz.currentQuestionIndex + 1}/${currentQuiz.questions.length}`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            const progress = ((currentQuiz.currentQuestionIndex + 1) / currentQuiz.questions.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
            document.getElementById('hintText').style.display = 'none';
            document.getElementById('hintBtn').style.display = currentQuiz.difficulty !== 'easy' ? 'block' : 'none';

            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';

            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç—ã —Å –Ω–∞—É—á–Ω—ã–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏
                let answerText = answer;
                answerText = answerText.replace(/(C3|C4|CAM|CO‚ÇÇ|ATP|ABA|Rubisco)/g, '<span class="scientific-term">$1</span>');
                answerText = answerText.replace(/(Mg¬≤‚Å∫|Fe¬≤‚Å∫|Ca¬≤‚Å∫|K‚Å∫)/g, '<span class="chemical-formula">$1</span>');
                
                button.innerHTML = answerText;
                button.onclick = () => selectAnswer(index);
                answersContainer.appendChild(button);
            });

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ"
            document.getElementById('nextBtn').disabled = true;
            resetTimer();
        }

        function showHint() {
            const question = currentQuiz.questions[currentQuiz.currentQuestionIndex];
            if (!question.hint) return;

            document.getElementById('hintText').textContent = question.hint;
            document.getElementById('hintText').style.display = 'block';
            document.getElementById('hintBtn').style.display = 'none';
            
            // –®—Ç—Ä–∞—Ñ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–±–æ–ª—å—à–µ –¥–ª—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
            const hintPenalty = currentQuiz.difficulty === 'impossible' ? 20 : 10;
            currentQuiz.score = Math.max(0, currentQuiz.score - hintPenalty);
            currentQuiz.hintsUsed++;
            updateStats();
        }

        function selectAnswer(selectedIndex) {
            const question = currentQuiz.questions[currentQuiz.currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-btn');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            buttons.forEach(btn => btn.disabled = true);
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç—ã
            buttons[question.correct].classList.add('correct');
            if (selectedIndex !== question.correct) {
                buttons[selectedIndex].classList.add('incorrect');
                currentQuiz.streak = 0;
            } else {
                currentQuiz.correctAnswers++;
                currentQuiz.streak++;
                currentQuiz.maxStreak = Math.max(currentQuiz.maxStreak, currentQuiz.streak);
                
                // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏ —Å —É—á–µ—Ç–æ–º –º–Ω–æ–∂–∏—Ç–µ–ª—è –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                const basePoints = {
                    'easy': 10,
                    'medium': 15,
                    'hard': 20,
                    'expert': 25,
                    'impossible': 30
                }[currentQuiz.difficulty] || 10;
                
                const streakMultiplier = Math.min(5, Math.floor(currentQuiz.streak / 3) + 1);
                const timeBonus = Math.max(1, Math.floor(currentQuiz.timeLeft / 5));
                const points = basePoints * streakMultiplier + timeBonus;
                
                currentQuiz.score += points;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                checkAchievements();
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updateStats();
            document.getElementById('nextBtn').disabled = false;
        }

        function checkAchievements() {
            const achievements = [];
            
            // –°–µ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
            if (currentQuiz.streak >= 5) {
                achievements.push('–°–µ—Ä–∏—è –∏–∑ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤!');
            }
            if (currentQuiz.streak >= 10) {
                achievements.push('–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Å–µ—Ä–∏—è –∏–∑ 10 –æ—Ç–≤–µ—Ç–æ–≤!');
            }
            
            // –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
            if (currentQuiz.timeLeft > 20) {
                achievements.push('–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç!');
            }
            
            // –ë–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫
            if (currentQuiz.hintsUsed === 0 && currentQuiz.currentQuestionIndex === currentQuiz.questions.length - 1) {
                achievements.push('–ü—Ä–æ—à–µ–ª –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫!');
            }
            
            // –û—Å–æ–±—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–ª—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            if (currentQuiz.difficulty === 'impossible') {
                if (currentQuiz.streak >= 3) {
                    achievements.push('–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Å–µ—Ä–∏—è –Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏!');
                }
                if (currentQuiz.timeLeft > 15) {
                    achievements.push('–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π –æ—Ç–≤–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞!');
                }
            }
            
            currentQuiz.achievements = [...new Set([...currentQuiz.achievements, ...achievements])];
        }

        function nextQuestion() {
            currentQuiz.currentQuestionIndex++;
            
            if (currentQuiz.currentQuestionIndex < currentQuiz.questions.length) {
                loadQuestion();
            } else {
                endQuiz();
            }
        }

        function startTimer() {
            resetTimer();
            currentQuiz.timer = setInterval(() => {
                currentQuiz.timeLeft--;
                document.getElementById('timer').textContent = currentQuiz.timeLeft;
                
                if (currentQuiz.timeLeft <= 0) {
                    clearInterval(currentQuiz.timer);
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
                    if (document.getElementById('nextBtn').disabled) {
                        selectAnswer(-1);
                    }
                    setTimeout(() => nextQuestion(), 1000);
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(currentQuiz.timer);
            const baseTime = {
                'easy': 45,
                'medium': 30,
                'hard': 25,
                'expert': 20,
                'impossible': 15
            }[currentQuiz.difficulty] || 30;
            
            currentQuiz.timeLeft = baseTime;
            document.getElementById('timer').textContent = currentQuiz.timeLeft;
        }

        function updateStats() {
            document.getElementById('score').textContent = currentQuiz.score;
            document.getElementById('streak').textContent = `√ó${Math.min(5, Math.floor(currentQuiz.streak / 3) + 1)}`;
        }

        function endQuiz() {
            clearInterval(currentQuiz.timer);
            
            const totalTime = Math.floor((Date.now() - currentQuiz.startTime) / 1000);
            const minutes = Math.floor(totalTime / 60);
            const seconds = totalTime % 60;
            const percentage = Math.round((currentQuiz.correctAnswers / currentQuiz.questions.length) * 100);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –æ—Å–æ–±—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            let resultIcon, resultTitle, resultMessage;
            
            if (currentQuiz.difficulty === 'impossible') {
                if (percentage >= 80) {
                    resultIcon = "üëë"; resultTitle = "–ì–ï–ù–ò–ô –ë–û–¢–ê–ù–ò–ö–ò!"; 
                    resultMessage = "–í—ã –ø—Ä–æ—à–ª–∏ —É—Ä–æ–≤–µ–Ω—å –ú–ì–£! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º!";
                } else if (percentage >= 60) {
                    resultIcon = "üéì"; resultTitle = "–ë–£–î–£–©–ò–ô –£–ß–ï–ù–´–ô!"; 
                    resultMessage = "–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è –ú–ì–£! –í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç–µ—Å—å –≤ –±–æ—Ç–∞–Ω–∏–∫–µ!";
                } else if (percentage >= 40) {
                    resultIcon = "üìö"; resultTitle = "–ü–ï–†–°–ü–ï–ö–¢–ò–í–ù–´–ô –°–¢–£–î–ï–ù–¢"; 
                    resultMessage = "–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! –í–æ–ø—Ä–æ—Å—ã —É—Ä–æ–≤–Ω—è –ú–ì–£ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–µ.";
                } else {
                    resultIcon = "üí™"; resultTitle = "–°–ú–ï–õ–´–ô –ò–°–°–õ–ï–î–û–í–ê–¢–ï–õ–¨"; 
                    resultMessage = "–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –í–æ–ø—Ä–æ—Å—ã —É—Ä–æ–≤–Ω—è –ú–ì–£ —Å–ª–æ–∂–Ω—ã –¥–∞–∂–µ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤.";
                }
            } else {
                if (percentage >= 90) {
                    resultIcon = "üèÜ"; resultTitle = "–ò–î–ï–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢!"; 
                    resultMessage = "–í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ä–∞—Å—Ç–µ–Ω–∏—è–º! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!";
                } else if (percentage >= 70) {
                    resultIcon = "üéâ"; resultTitle = "–û–¢–õ–ò–ß–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢!"; 
                    resultMessage = "–û—Ç–ª–∏—á–Ω—ã–µ –∑–Ω–∞–Ω–∏—è! –í—ã —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç–µ—Å—å –≤ —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–µ!";
                } else if (percentage >= 50) {
                    resultIcon = "üëç"; resultTitle = "–•–û–†–û–®–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢"; 
                    resultMessage = "–ù–µ–ø–ª–æ—Ö–æ! –ï—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏, –Ω–æ –æ—Å–Ω–æ–≤—ã –≤—ã –∑–Ω–∞–µ—Ç–µ.";
                } else {
                    resultIcon = "üå±"; resultTitle = "–ï–°–¢–¨ –ö–£–î–ê –†–ê–°–¢–ò"; 
                    resultMessage = "–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∏–∑—É—á–∞—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏—è - —ç—Ç–æ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ!";
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            document.getElementById('resultIcon').textContent = resultIcon;
            document.getElementById('resultTitle').textContent = resultTitle;
            document.getElementById('finalScore').textContent = percentage + '%';
            document.getElementById('resultMessage').textContent = resultMessage;
            
            document.getElementById('resultCorrect').textContent = currentQuiz.correctAnswers + '/' + currentQuiz.questions.length;
            document.getElementById('resultTime').textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('resultStreak').textContent = '√ó' + Math.min(5, Math.floor(currentQuiz.maxStreak / 3) + 1);
            
            // –ù–∞—á–∏—Å–ª—è–µ–º –æ–ø—ã—Ç —Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å
            const difficultyMultiplier = {
                'easy': 1,
                'medium': 1.5,
                'hard': 2,
                'expert': 3,
                'impossible': 5
            }[currentQuiz.difficulty] || 1;
            
            const xpEarned = Math.round((percentage * 2 + currentQuiz.maxStreak * 10) * difficultyMultiplier);
            document.getElementById('resultXP').textContent = '+' + xpEarned;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å –æ—Å–æ–±—ã–º–∏ –±–µ–π–¥–∂–∞–º–∏ –¥–ª—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            const achievementsContainer = document.getElementById('achievementsEarned');
            achievementsContainer.innerHTML = '';
            if (currentQuiz.achievements.length > 0) {
                achievementsContainer.innerHTML = '<h3 style="color: var(--primary-dark); margin-bottom: 10px;">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h3>';
                currentQuiz.achievements.forEach(achievement => {
                    const badge = document.createElement('span');
                    const isLegendary = currentQuiz.difficulty === 'impossible' && 
                                       (achievement.includes('–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è') || achievement.includes('–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π'));
                    badge.className = isLegendary ? 'legendary-badge' : 'achievement-badge';
                    badge.textContent = achievement;
                    achievementsContainer.appendChild(badge);
                });
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            saveQuizResults(percentage, xpEarned);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
        }

        function saveQuizResults(percentage, xp) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            
            if (userIndex !== -1) {
                if (!users[userIndex].quizStats) {
                    users[userIndex].quizStats = {
                        totalQuizzes: 0,
                        bestScore: 0,
                        totalCorrect: 0,
                        totalQuestions: 0,
                        totalXP: 0,
                        byDifficulty: {},
                        impossibleCompleted: false
                    };
                }
                
                const stats = users[userIndex].quizStats;
                stats.totalQuizzes++;
                stats.bestScore = Math.max(stats.bestScore, percentage);
                stats.totalCorrect += currentQuiz.correctAnswers;
                stats.totalQuestions += currentQuiz.questions.length;
                stats.totalXP += xp;
                
                // –û—Ç–º–µ—á–∞–µ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                if (currentQuiz.difficulty === 'impossible' && percentage >= 50) {
                    stats.impossibleCompleted = true;
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                if (!stats.byDifficulty[currentQuiz.difficulty]) {
                    stats.byDifficulty[currentQuiz.difficulty] = {
                        played: 0,
                        bestScore: 0,
                        totalCorrect: 0
                    };
                }
                stats.byDifficulty[currentQuiz.difficulty].played++;
                stats.byDifficulty[currentQuiz.difficulty].bestScore = 
                    Math.max(stats.byDifficulty[currentQuiz.difficulty].bestScore, percentage);
                stats.byDifficulty[currentQuiz.difficulty].totalCorrect += currentQuiz.correctAnswers;
                
                // –ù–∞—á–∏—Å–ª—è–µ–º –æ–ø—ã—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                users[userIndex].experience = (users[userIndex].experience || 0) + xp;
                
                localStorage.setItem('users', JSON.stringify(users));
                loadUserStats();
            }
        }

        function loadUserStats() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            const userData = users.find(u => u.email === currentUser.email);
            
            if (userData && userData.quizStats) {
                const stats = userData.quizStats;
                document.getElementById('totalQuizzes').textContent = stats.totalQuizzes;
                document.getElementById('bestScore').textContent = stats.bestScore + '%';
                document.getElementById('correctAnswers').textContent = stats.totalCorrect;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–Ω–∞—á–æ–∫ –µ—Å–ª–∏ –ø—Ä–æ–π–¥–µ–Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
                if (stats.impossibleCompleted) {
                    const bestScoreElement = document.getElementById('bestScore');
                    bestScoreElement.innerHTML = stats.bestScore + '% <span class="legendary-badge">–ú–ì–£</span>';
                }
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Å–µ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–≥—Ä
                const streak = Math.min(10, Math.floor(stats.totalCorrect / 10));
                document.getElementById('currentStreak').textContent = streak;
            }
        }

        function showStartScreen() {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }

        function restartQuiz() {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            startQuiz(currentQuiz.category);
        }

        function applyThemeSettings() {
            const settings = JSON.parse(localStorage.getItem('appSettings')) || {};
            
            if (settings.theme) {
                document.body.setAttribute('data-theme', settings.theme);
                
                if (settings.darkMode && settings.theme !== 'dark') {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
            }
            
            if (settings.fontSize) {
                document.body.style.fontSize = settings.fontSize + 'px';
            }
            if (settings.fontFamily) {
                document.body.style.fontFamily = settings.fontFamily + ', sans-serif';
            }
        }
    </script>
</body>
</html>